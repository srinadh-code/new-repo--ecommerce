{% comment %} <!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>

    <style>
        body{
            font-family: Arial, sans-serif;
            margin:0;
            background:#f4f4f4;
        }

        /* ================= HEADER ================= */
        .header{
            background:#2874f0; /* light ecommerce blue */
            color:white;
            padding:15px 30px;
            font-size:18px;
            display:flex;
            justify-content:space-between;
            align-items:center;
        }

        .header-right{
            display:flex;
            align-items:center;
            gap:16px;
        }

        .btn-link{
            padding:7px 14px;
            border-radius:8px;
            font-size:14px;
            text-decoration:none;
            font-weight:bold;
            display:inline-flex;
            align-items:center;
            gap:6px;
        }

        .cart-btn,
        .settings-btn{
            background:#6f42c1;
            color:white;
        }

        .login-btn{
            background:lightgreen;
            color:black;
            border:1px solid green;
        }

        /* ================= USER DROPDOWN ================= */
        .user-dropdown{
            position:relative;
        }

        .user-btn{
            background:#6f42c1;
            color:white;
            border:none;
            border-radius:8px;
            padding:7px 14px;
            font-size:14px;
            font-weight:bold;
            cursor:pointer;
            display:flex;
            align-items:center;
            gap:6px;
        }

        .dropdown-menu{
            position:absolute;
            right:0;
            top:45px;
            background:white;
            min-width:220px;
            border-radius:8px;
            box-shadow:0 6px 16px rgba(0,0,0,0.2);
            display:none;
            z-index:1000;
        }

        .dropdown-menu a{
            display:block;
            padding:12px 16px;
            color:#333;
            text-decoration:none;
            font-size:14px;
        }

        .dropdown-menu a:hover{
            background:#f1f3f6;
        }

        .dropdown-menu hr{
            margin:6px 0;
            border:none;
            border-top:1px solid #eee;
        }

        /* ================= DIVIDER ================= */
        .header-divider{
            height:1px;
            background:#000;
            opacity:0.2;
            width:100%;
        }

        /* ================= MAIN ================= */
        .container{
            padding:25px;
        }

        h2{
            margin-top:0;
        }

        .categories{
            display:grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap:15px;
            margin-top:15px;
        }

        .cat-btn{
            background:white;
            padding:16px;
            border-radius:12px;
            border:none;
            cursor:pointer;
            font-weight:bold;
            font-size:16px;
            box-shadow:0px 3px 8px rgba(0,0,0,0.15);
            width:100%;
        }

        .cat-btn:hover{
            background:orange;
            color:white;
        }
    </style>
</head>

<body>

<!-- ================= HEADER ================= -->
<div class="header">
    <span>Welcome to Ecommerce</span>

    <div class="header-right">

        <a href="/cart/view/" class="btn-link cart-btn">üõí Cart</a>

        {% if request.user.is_authenticated %}
        <div class="user-dropdown">
            <button class="user-btn" onclick="toggleMenu(event)">
                üë§ {{ request.user.username }}
            </button>

            <div class="dropdown-menu" id="userMenu">
                <a href="{% url 'profile_page' %}">My Profile</a>
                <a href="{% url 'my_orders' %}">Orders</a>
                <a href="{% url 'my_addresses' %}">Saved Addresses</a>
                <a href="#">Wishlist</a>
                <hr>
                <a href="{% url 'logout' %}">Logout</a>
            </div>
        </div>
        {% else %}
        <a href="{% url 'login' %}" class="btn-link login-btn">üîê Login</a>
        {% endif %}

        <a href="{% url 'settings' %}" class="btn-link settings-btn">‚öô Settings</a>
    </div>
</div>

<!-- divider -->
<div class="header-divider"></div>

<!-- ================= MAIN ================= -->
<div class="container">
    <h2>Categories</h2>

    <div class="categories">
        {% for cat in categories %}
        <a href="{% url 'category_products' cat.id %}">
            <button class="cat-btn">{{ cat.name }}</button>
        </a>
        {% endfor %}
    </div>
</div>

<!-- ================= JS ================= -->
<script>
function toggleMenu(event){
    event.stopPropagation();
    const menu = document.getElementById("userMenu");
    menu.style.display = (menu.style.display === "block") ? "none" : "block";
}

document.addEventListener("click", function(){
    const menu = document.getElementById("userMenu");
    if(menu){
        menu.style.display = "none";
    }
});
</script>

</body>
</html> {% endcomment %}
<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>

    <style>
        body{
            font-family: Arial, sans-serif;
            margin:0;
            background:#f4f4f4;
        }

        /* ================= HEADER ================= */
        .header{
            background:#ffffff;   
            color:white;
            padding:15px 30px;
            font-size:18px;
            display:flex;
            justify-content:space-between;
            align-items:center;
        }


        .header-right{
            display:flex;
            align-items:center;
            gap:16px;
        }

        .btn-link{
            padding:7px 14px;
            border-radius:8px;
            font-size:14px;
            text-decoration:none;
            font-weight:bold;
            display:inline-flex;
            align-items:center;
            gap:6px;
        }

        .cart-btn,
        .settings-btn{
            background:#6f42c1;
            color:white;
        }

        .login-btn{
            background:lightgreen;
            color:black;
            border:1px solid green;
        }

        /* ================= USER DROPDOWN ================= */
        .user-dropdown{
            position:relative;
        }

        .user-btn{
            background:#6f42c1;
            color:white;
            border:none;
            border-radius:8px;
            padding:7px 14px;
            font-size:14px;
            font-weight:bold;
            cursor:pointer;
            display:flex;
            align-items:center;
            gap:6px;
        }

        .dropdown-menu{
            position:absolute;
            right:0;
            top:45px;
            background:white;
            min-width:220px;
            border-radius:8px;
            box-shadow:0 6px 16px rgba(0,0,0,0.2);
            display:none;
            z-index:1000;
        }

        .dropdown-menu a{
            display:block;
            padding:12px 16px;
            color:#333;
            text-decoration:none;
            font-size:14px;
        }

        .dropdown-menu a:hover{
            background:#f1f3f6;
        }

        .dropdown-menu hr{
            margin:6px 0;
            border:none;
            border-top:1px solid #eee;
        }

        /* ================= DIVIDER ================= */
        .header-divider{
            height:1px;
            background:#e0e0e0;  
            width:100%;
        }

        /* ================= MAIN ================= */
        .container{
            padding:25px;
        }

        h2{
            margin-top:0;
        }

        .categories{
            display:grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap:15px;
            margin-top:15px;
        }

        .cat-btn{
            background:white;
            padding:16px;
            border-radius:12px;
            border:none;
            cursor:pointer;
            font-weight:bold;
            font-size:16px;
            box-shadow:0px 3px 8px rgba(0,0,0,0.15);
            width:100%;
        }

        .cat-btn:hover{
            background:orange;
            color:white;
        }
    </style>
</head>

<body>

<!-- ================= HEADER ================= -->
<div class="header">
    <span style="color:#2874f0; font-weight:bold;">
    Welcome to Ecommerce
</span>

    <div class="header-right">
        <a href="/cart/view/" class="btn-link cart-btn">üõí Cart</a>

        {% if request.user.is_authenticated %}
        <div class="user-dropdown">
            <button class="user-btn" onclick="toggleMenu(event)">
                üë§ {{ request.user.username }}
            </button>

            <div class="dropdown-menu" id="userMenu">
                <a href="{% url 'profile_page' %}">My Profile</a>
                <a href="{% url 'my_orders' %}">Orders</a>
                <a href="{% url 'my_addresses' %}">Saved Addresses</a>
                <a href="#">Wishlist</a>
                <hr>
                <a href="{% url 'logout' %}">Logout</a>
            </div>
        </div>
        {% else %}
        <a href="{% url 'login' %}" class="btn-link login-btn">üîê Login</a>
        {% endif %}

        <a href="{% url 'settings' %}" class="btn-link settings-btn">‚öô Settings</a>
    </div>
</div>

<!-- ‚úÖ DIVIDER MUST BE HERE -->
<div class="header-divider"></div>

<!-- ================= MAIN ================= -->
<div class="container">
    <h2>Categories</h2>

    <div class="categories">
        {% for cat in categories %}
        <a href="{% url 'category_products' cat.id %}">
            <button class="cat-btn">{{ cat.name }}</button>
        </a>
        {% endfor %}
    </div>
</div>

<script>
function toggleMenu(event){
    event.stopPropagation();
    const menu = document.getElementById("userMenu");
    menu.style.display = menu.style.display === "block" ? "none" : "block";
}

document.addEventListener("click", function(){
    const menu = document.getElementById("userMenu");
    if(menu){
        menu.style.display = "none";
    }
});
</script>

</body>
</html>
