{% comment %} 
<!DOCTYPE html>
<html>
<head>
    <title>{{ category.name }} Products</title>

    <style>
        body{
            font-family: Arial;
            margin:0;
            background:#f4f4f4;
        }

        .header{
            background:#111;
            color:white;
            padding:15px 30px;
            font-size:20px;
        }

        .container{
            padding:25px;
        }

        .products{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
            gap:16px;
            margin-top: 15px;
        }

        .card{
            background:white;
            padding:15px;
            border-radius:12px;
            box-shadow:0 3px 10px rgba(0,0,0,0.15);
            text-align:center;
        }

        .card img{
            width:100%;
            height:200px;
            object-fit:contain;
            background:#fff;
            border-radius:10px;
        }

        .price{
            font-weight:bold;
            margin:8px 0;
        }

        .btns{
            display:flex;
            gap:10px;
            justify-content:center;
            margin-top:10px;
        }

        .btn{
            display:inline-block;
            padding:10px 18px;
            border-radius:8px;
            font-weight:bold;
            font-size:14px;
            text-decoration:none;
        }

        .cart-btn{
            background:black;
            color:white;
        }

        .cart-btn:hover{
            background:orange;
            color:black;
        }

        .buy-btn{
            background:orange;
            color:black;
        }

        .buy-btn:hover{
            background:green;
            color:white;
        }
    </style>
</head>

<body>

<div class="header">{{ category.name }} Products</div>

<div class="container">

    <a href="{% url 'dashboard' %}">‚¨Ö Back to Dashboard</a>

    <h2>{{ category.name }} Items</h2>

    <div class="products">
        {% for p in products %}
            <div class="card">

                {% if p.image %}
                    <img src="{{ p.image.url }}" alt="{{ p.name }}">
                {% else %}
                    <img src="https://via.placeholder.com/300x200" alt="No Image">
                {% endif %}

                <h3>{{ p.name }}</h3>
                <p class="price">‚Çπ{{ p.price }}</p>

                <div class="btns">
                    <a class="btn cart-btn" href="{% url 'add_to_cart' p.id %}">
                        Add To Cart
                    </a>

                    <a class="btn buy-btn" href="{% url 'product_detail' p.id %}">
                         Buy Now
                    </a>

                </div>

            </div>
        {% empty %}
            <h3>No products available.</h3>
        {% endfor %}
    </div>

</div>

</body>
{% comment %} </html> {% endcomment %}
{% comment %} <!DOCTYPE html>
<html>
<head>
    <title>{{ category.name }} Products</title>

    <style>
        body{
            font-family: Arial, sans-serif;
            margin:0;
            background:#f4f4f4;
        }

        .header{
            background:#111;
            color:white;
            padding:15px 30px;
            font-size:20px;
        }

        .container{
            padding:25px;
        }

        .products{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
            gap:18px;
            margin-top:20px;
        }

        .card{
            position:relative;
            background:white;
            padding:15px;
            border-radius:12px;
            box-shadow:0 3px 10px rgba(0,0,0,0.15);
            text-align:center;
        }

        .card img{
            width:100%;
            height:200px;
            object-fit:contain;
            border-radius:10px;
            background:#fff;
        }

        .price{
            font-weight:bold;
            margin:8px 0;
            font-size:16px;
        }

        .btns{
            display:flex;
            gap:10px;
            justify-content:center;
            margin-top:10px;
        }

        .btn{
            padding:10px 18px;
            border-radius:8px;
            font-weight:bold;
            font-size:14px;
            text-decoration:none;
        }

        .cart-btn{
            background:black;
            color:white;
        }

        .cart-btn:hover{
            background:orange;
            color:black;
        }

        .buy-btn{
            background:orange;
            color:black;
        }

        .buy-btn:hover{
            background:green;
            color:white;
        }

        /* ‚ù§Ô∏è Wishlist */
        .wishlist-heart{
            position:absolute;
            top:12px;
            right:14px;
            font-size:20px;
            text-decoration:none;
        }

        .wishlist-heart.active{
            color:red;
        }

        .wishlist-heart.inactive{
            color:#bbb;
        }
    </style>
</head>

<body>

<div class="header">
    {{ category.name }} Products
</div>

<div class="container">

    <a href="{% url 'dashboard' %}">‚¨Ö Back to Dashboard</a>

    <div class="products">

        {% for product in products %}
        <div class="card">

            <!-- ‚ù§Ô∏è WISHLIST -->
            {% if request.user.is_authenticated %}
                {% if product.id in wishlist_ids %}
                    <a class="wishlist-heart active"
                       href="{% url 'remove_from_wishlist' product.id %}">
                        ‚ù§Ô∏è
                    </a>
                {% else %}
                    <a class="wishlist-heart inactive"
                       href="{% url 'add_to_wishlist' product.id %}">
                        ü§ç
                    </a>
                {% endif %}
            {% endif %}

            {% if product.image %}
                <img src="{{ product.image.url }}" alt="{{ product.name }}">
            {% else %}
                <img src="https://via.placeholder.com/300x200">
            {% endif %}

            <h3>{{ product.name }}</h3>
            <p class="price">‚Çπ{{ product.price }}</p>

            <div class="btns">
                <a class="btn cart-btn"
                   href="{% url 'add_to_cart' product.id %}">
                    Add To Cart
                </a>

                <a class="btn buy-btn"
                   href="{% url 'product_detail' product.id %}">
                    Buy Now
                </a>
            </div>

        </div>
        {% empty %}
            <h3>No products available.</h3>
        {% endfor %}

    </div>
</div>

</body>
</html>  {% endcomment %}



{% comment %} 

<!DOCTYPE html>
<html>
<head>
    <title>{{ category.name }} Products</title>

    <style>
        body{
            font-family: Arial, sans-serif;
            margin:0;
            background:#f4f4f4;
        }

        /* ===== HEADER ===== */
        .header{
            background:#ffffff;
            padding:14px 30px;
            display:flex;
            justify-content:space-between;
            align-items:center;
            border-bottom:1px solid #e0e0e0;
        }

        .header-title{
            color:#2874f0;
            font-size:20px;
            font-weight:bold;
        }

        .header-right{
            display:flex;
            gap:12px;
        }

        .header-btn{
            padding:6px 14px;
            background:#6f42c1;
            color:white;
            border-radius:8px;
            font-size:14px;
            font-weight:bold;
            text-decoration:none;
        }

        /* ===== MAIN ===== */
        .container{
            padding:25px;
        }

        .products{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
            gap:18px;
            margin-top:20px;
        }

        .card{
            position:relative;
            background:white;
            padding:15px;
            border-radius:12px;
            box-shadow:0 3px 10px rgba(0,0,0,0.15);
            text-align:center;
        }

        .card img{
            width:100%;
            height:200px;
            object-fit:contain;
            border-radius:10px;
            background:#fff;
        }

        .price{
            font-weight:bold;
            margin:8px 0;
            font-size:16px;
        }

        .btns{
            display:flex;
            gap:10px;
            justify-content:center;
            margin-top:10px;
        }

        .btn{
            padding:10px 18px;
            border-radius:8px;
            font-weight:bold;
            font-size:14px;
            text-decoration:none;
        }

        .cart-btn{
            background:black;
            color:white;
        }

        .cart-btn:hover{
            background:orange;
            color:black;
        }

        .buy-btn{
            background:orange;
            color:black;
        }

        .buy-btn:hover{
            background:green;
            color:white;
        }

        /* ‚ù§Ô∏è WISHLIST HEART */
        .wishlist-heart{
            position:absolute;
            top:12px;
            right:14px;
            font-size:20px;
            text-decoration:none;
        }

        .wishlist-heart.active{ color:red; }
        .wishlist-heart.inactive{ color:#bbb; }
    </style>
</head>

<body>

<!-- ===== HEADER ===== -->
<div class="header">
    <div class="header-title">
        {{ category.name }} Products
    </div>

    <div class="header-right">
        <a href="{% url 'wishlist' %}" class="header-btn">‚ù§Ô∏è Wishlist</a>
        <a href="{% url 'dashboard' %}" class="header-btn">‚¨Ö Dashboard</a>
    </div>
</div>

<!-- ===== CONTENT ===== -->
<div class="container">

    <div class="products">

        {% for product in products %}
        <div class="card">

            <!-- ‚ù§Ô∏è Wishlist -->
            {% if request.user.is_authenticated %}
                {% if product.id in wishlist_ids %}
                    <a class="wishlist-heart active"
                       href="{% url 'remove_from_wishlist' product.id %}">
                        ‚ù§Ô∏è
                    </a>
                {% else %}
                    <a class="wishlist-heart inactive"
                       href="{% url 'add_to_wishlist' product.id %}">
                        ü§ç
                    </a>
                {% endif %}
            {% endif %}

            {% if product.image %}
                <img src="{{ product.image.url }}" alt="{{ product.name }}">
            {% else %}
                <img src="https://via.placeholder.com/300x200">
            {% endif %}

            <h3>{{ product.name }}</h3>
            <p class="price">‚Çπ{{ product.price }}</p>

            <div class="btns">
                <a class="btn cart-btn"
                   href="{% url 'add_to_cart' product.id %}">
                    Add To Cart
                </a>

                <a class="btn buy-btn"
                   href="{% url 'product_detail' product.id %}">
                    Buy Now
                </a>
            </div>

        </div>
        {% empty %}
            <h3>No products available.</h3>
        {% endfor %}

    </div>
</div>

</body>
</html> {% endcomment %}




<!DOCTYPE html>
<html>
<head>
    <title>{{ category.name }} Products</title>

    <style>
        body{
            font-family: Arial, sans-serif;
            margin:0;
            background:#f4f4f4;
        }

        /* ===== HEADER ===== */
        .header{
            background:#ffffff;
            padding:14px 30px;
            display:flex;
            justify-content:space-between;
            align-items:center;
            border-bottom:1px solid #e0e0e0;
        }

        .header-title{
            color:#2874f0;
            font-size:20px;
            font-weight:bold;
        }

        .header-right{
            display:flex;
            gap:12px;
        }

        .header-btn{
            padding:6px 14px;
            background:#6f42c1;
            color:white;
            border-radius:8px;
            font-size:14px;
            font-weight:bold;
            text-decoration:none;
        }

        /* ===== MAIN ===== */
        .container{
            padding:25px;
        }

        .products{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
            gap:18px;
            margin-top:20px;
        }

        .card{
            position:relative;
            background:white;
            padding:15px;
            border-radius:12px;
            box-shadow:0 3px 10px rgba(0,0,0,0.15);
            text-align:center;
        }

        .card img{
            width:100%;
            height:200px;
            object-fit:contain;
            border-radius:10px;
            background:#fff;
        }

        .price{
            font-weight:bold;
            margin:8px 0;
            font-size:16px;
        }

        .btns{
            display:flex;
            gap:10px;
            justify-content:center;
            margin-top:10px;
        }

        .btn{
            padding:10px 18px;
            border-radius:8px;
            font-weight:bold;
            font-size:14px;
            text-decoration:none;
        }

        .cart-btn{
            background:black;
            color:white;
        }

        .cart-btn:hover{
            background:orange;
            color:black;
        }

        .buy-btn{
            background:orange;
            color:black;
        }

        .buy-btn:hover{
            background:green;
            color:white;
        }

        /* ‚ù§Ô∏è WISHLIST */
        .wishlist-heart{
            position:absolute;
            top:12px;
            right:14px;
            font-size:20px;
            text-decoration:none;
        }

        .wishlist-heart.active{ color:red; }
        .wishlist-heart.inactive{ color:#bbb; }
    </style>
</head>

<body>

<!-- ===== HEADER ===== -->
<div class="header">
    <div class="header-title">
        {{ category.name }} Products
    </div>

    <div class="header-right">
        <a href="{% url 'wishlist' %}" class="header-btn">‚ù§Ô∏è Wishlist</a>
        <a href="{% url 'dashboard' %}" class="header-btn">‚¨Ö Dashboard</a>
    </div>
</div>

<!-- ===== CONTENT ===== -->
<div class="container">

    <div class="products">
        {% for product in products %}
        <div class="card">

            <!-- ‚ù§Ô∏è TOGGLE WISHLIST -->
            {% if request.user.is_authenticated %}
                <a href="{% url 'toggle_wishlist' product.id %}"
                   class="wishlist-heart {% if product.id in wishlist_ids %}active{% else %}inactive{% endif %}">
                    {% if product.id in wishlist_ids %}‚ù§Ô∏è{% else %}ü§ç{% endif %}
                </a>
            {% endif %}

            {% if product.image %}
                <img src="{{ product.image.url }}" alt="{{ product.name }}">
            {% else %}
                <img src="https://via.placeholder.com/300x200">
            {% endif %}

            <h3>{{ product.name }}</h3>
            <p class="price">‚Çπ{{ product.price }}</p>

            <div class="btns">
                <a class="btn cart-btn"
                   href="{% url 'add_to_cart' product.id %}">
                    Add To Cart
                </a>

                <a class="btn buy-btn"
                   href="{% url 'product_detail' product.id %}">
                    Buy Now
                </a>
            </div>

        </div>
        {% empty %}
            <h3>No products available.</h3>
        {% endfor %}
    </div>

</div>

</body>
</html>
